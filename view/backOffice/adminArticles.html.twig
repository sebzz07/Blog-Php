{% extends "html.html.twig" %}
{% block title %}
	Les Articles
{% endblock %}
{% block body %}

	<!-- Page Header-->
	<header class="masthead" style="background-image: url('public/assets/img/home-bg.jpg')">
		<div class="container position-relative px-4 px-lg-5">
			<div class="row gx-4 gx-lg-5 justify-content-center">
				<div class="col-md-10 col-lg-8 col-xl-7">
					<div class="site-heading">
						<h1>Toutes les publications</h1>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!-- Main Content-->
	<div class="container">
		<div class="d-flex flex-wrap">
			{% for article in articles %}
				<div class="card p-2 m-3" style="width: 28rem;">
					<div class="card-body">
						<h4 class="card-title">{{article.title}}
							( ID:
							{{article.id}}
							)
						</h4>
						<p class="card-subtitle mb-2 text-muted">Créé le :
							{{article.creation_date_fr}},
						</p>
						<p class="card-subtitle mb-2 text-muted">Modifié le :
							{{article.modification_date_fr}}
						</p>
						<p class="card-text">Status :
							{{article.visibility}}</p>
						<p class="card-text">{{article.content}}</p>
						{%if article.visibility == "waitingForValidation" or article.visibility == "unpublished" %}
							<a class="btn btn-outline-primary" style="padding: 0.4rem 1rem; width: 12rem; margin: 0.3rem" href="index.php?action=publishArticle&amp;id={{article.id}}">

								<span>Publier l'article</span>
							</a>
						{% else %}
							<a class="btn btn-outline-primary" style="padding: 0.4rem 1rem; width: 12rem; margin: 0.3rem" href="index.php?action=unpublishArticle&amp;id={{article.id}}">
								<span>Dépublier l'article</span>
							</a>
						{% endif %}
						<a class="btn btn-outline-primary" style="padding: 0.4rem 1rem; width: 12rem; margin: 0.3rem" href="index.php?action=editArticle&amp;id={{article.id}}">

							<span style="">Modifier l'article</span>
						</a>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}
